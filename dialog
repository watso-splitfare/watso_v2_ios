import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return const MaterialApp(
      debugShowCheckedModeBanner: false,

      title: '택시왔소',
      home: MyPage(),
    );
  }
}

class MyPage extends StatelessWidget {
  const MyPage({super.key});

  void showPopup(context) {
    showDialog(
        context: context,
        builder: (context){
          return Dialog(
            child: Container(
              width: MediaQuery.of(context).size.width*0.7,
              height: MediaQuery.of(context).size.width,
              decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(10),
                  color: Colors.white
              ),
              child: Column(
                children: [
                  Text(
                    '영수증',
                    style: TextStyle(
                    fontWeight: FontWeight.bold,
                    fontSize: 20
                  ),
                  ),
                  Row(
                    mainAxisSize: MainAxisSize.max,
                    children: [
                      Column(
                        crossAxisAlignment: CrossAxisAlignment.start,
                        children: [
                          Text('차량 번호'),
                          Text('탑승 시간'),
                          Text('거래 일시')
                        ],
                      ),
                      // 오른쪽 정렬하고 싶은데 적용 안됨
                      Column(
                        crossAxisAlignment: CrossAxisAlignment.end,
                        children: [
                          Text('부산12바 1234'),
                          Text('2023.12.19 11:36:23'),
                          Text('2023.12.19 11:40:43')
                        ],
                      )
                    ],
                  ),
                  Divider(),
                  Row(
                    mainAxisSize: MainAxisSize.max,
                    children: [
                      Column(
                        crossAxisAlignment: CrossAxisAlignment.start,
                        children: [
                          Text('총 결제 금액'),
                          Text('총 인원'),
                          Text('1인당 요금')
                        ],
                      ),
                      Column(
                        crossAxisAlignment: CrossAxisAlignment.end,
                        children: [
                          Text('6,200원'),
                          Text('3명'),
                          Text('2,100원')
                        ],
                      )
                    ],
                  ),
                  Divider(),
                  // 왼쪽 정렬 안됨
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Text('창욱', style: TextStyle(fontSize: 10), textAlign: TextAlign.left,),
                      Text('2,100원')
                    ],
                  ),
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Text('태민', style: TextStyle(fontSize: 10), textAlign: TextAlign.left,),
                      Text('2,100원')
                    ],
                  ),
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Text('준하', style: TextStyle(fontSize: 10), textAlign: TextAlign.left,),
                      Text('2,100원')
                    ],
                  ),
                  Divider(),
                  ElevatedButton(
                      onPressed: (){
                        Navigator.pop(context);
                      },
                      child: Text('확인'))
                ],
              ),
            ),
          );
        }
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text("택시왔소",
          style: TextStyle(
            color: Colors.white,
            fontWeight: FontWeight.bold,
            letterSpacing: 1.0
          ),
        ),
        backgroundColor: Colors.orange[800],
        elevation: 0.0,
        iconTheme: IconThemeData(color: Colors.white),
        actions: <Widget>[
          IconButton(
              onPressed: () {
                debugPrint("Setting button is clicked.");
              },
              icon: const Icon(Icons.settings)
          ),
        ],
      ),
      body: Center(
        child: ElevatedButton(
          child: const Text('정산하기'),
          onPressed: (){
            showPopup(context);
          },
        ),
      ),
    );
  }
}

